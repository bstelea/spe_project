<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="/fragments/header :: header"></div>
</head>
<body>
<div th:replace="/fragments/header :: navbar"></div>

<div th:replace="/fragments/header :: jumbotron"></div>

<div class="alert alert-info" th:if="${outOfStockMessage}" th:utext="${outOfStockMessage}"></div>

<div class="container">
    <div class="panel-default well" th:each="beer : ${beers.entrySet()}">
        <div class="panel-heading">
            <h1><a th:text="${beer.getKey().name}">Title</a></h1>
            <h3 th:text="${beer.getKey().description}">Description</h3>
        </div>
        <div class="row panel-body">
            <div th:inline="text" class="col-md-2">Price: [[${beer.getKey().price}]] Â£</div>
            <div th:inline="text" class="col-md-9">Quantity: [[${beer.getValue()}]]</div>
            <form action="/cart/update" method="post">
                <input type="hidden" name="id" th:value="${beer.getKey().id}"/>
                Update: <input type="number" name="quantity" value="1" min="1" th:max="${beer.getKey().quantity}"><br>
                <input type="submit" value="Update Quantity">
            </form>
            <form action="/cart/remove" method="post">
                <input type="hidden" name="id" th:value="${beer.getKey().id}"/>
                <input type="submit" value="Remove">
            </form>
        </div>
        <br/>
    </div>

    <div class="row panel-body">
        <h2 class="col-md-11" th:inline="text">Total: [[${total}]]</h2>
        <a th:href="@{'/cart/checkout'}" class="col-md-1">
            <button type="button" class="btn btn-danger" th:text="Checkout">Checkout</button>
        </a>
    </div>
</div>
</body>
</html>